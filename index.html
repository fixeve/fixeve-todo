<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ToDoãƒªã‚¹ãƒˆ | Fixeve</title>
<style>
    body {
        background-color: white;
        font-family: "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif;
        margin: 0;
        padding: 10px;
        color: #00FF00; /* ç·‘æ–‡å­— */
    }

    h1 {
        text-align: center;
        color: #00FF00;
        font-size: 28px;
        margin-bottom: 20px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        background-color: white;
        color: black;
        border: 2px solid #000;
    }

    th, td {
        border: 1px solid #000;
        padding: 6px;
        text-align: center;
    }

    th {
        background-color: #f5fff5;
        color: #00cc00;
    }

    textarea {
        width: 95%;
        height: 40px;
        border: none;
        resize: none;
        font-size: 14px;
    }

    select, input[type="date"] {
        width: 90%;
        font-size: 14px;
    }

    .home-link {
        display: block;
        margin-top: 20px;
        text-align: left;
    }

    .home-link a {
        text-decoration: none;
        color: #00FF00;
        font-weight: bold;
    }

    @media (max-width: 600px) {
        th, td {
            font-size: 12px;
        }
        textarea {
            height: 30px;
        }
    }
</style>
</head>
<body>
    <h1>ToDo ãƒªã‚¹ãƒˆ</h1>

    <table id="todoTable">
        <thead>
            <tr>
                <th>å†…å®¹</th>
                <th>å„ªå…ˆåº¦</th>
                <th>æœŸé™</th>
                <th>é€²æ—</th>
            </tr>
        </thead>
        <tbody>
            <!-- JSã§è¡Œã‚’è¿½åŠ  -->
        </tbody>
    </table>

    <div style="text-align:center; margin-top:10px;">
        <button onclick="addRow()">ï¼‹ è¡Œã‚’è¿½åŠ </button>
        <button onclick="saveData()">ğŸ’¾ ä¿å­˜</button>
        <button onclick="clearData()">ğŸ—‘ å…¨å‰Šé™¤</button>
    </div>

    <div class="home-link">
        <a href="https://fixeve.github.io/">ãƒ›ãƒ¼ãƒ </a>
    </div>

<script>
    const tableBody = document.querySelector("#todoTable tbody");

    // æ–°ã—ã„è¡Œã‚’è¿½åŠ 
    function addRow(content = "", priority = "â–³", deadline = "", progress = "æœª") {
        const row = document.createElement("tr");
        row.innerHTML = `
            <td><textarea>${content}</textarea></td>
            <td>
                <select>
                    <option value="â–³" ${priority==="â–³"?"selected":""}>â–³</option>
                    <option value="â—‹" ${priority==="â—‹"?"selected":""}>â—‹</option>
                    <option value="â—" ${priority==="â—"?"selected":""}>â—</option>
                </select>
            </td>
            <td><input type="date" value="${deadline}"></td>
            <td>
                <select>
                    <option value="æœª" ${progress==="æœª"?"selected":""}>æœª</option>
                    <option value="å®Œ" ${progress==="å®Œ"?"selected":""}>å®Œ</option>
                </select>
            </td>
        `;
        tableBody.appendChild(row);
    }

    // ä¿å­˜
    function saveData() {
        const data = [];
        tableBody.querySelectorAll("tr").forEach(tr => {
            const tds = tr.querySelectorAll("td");
            data.push({
                content: tds[0].querySelector("textarea").value,
                priority: tds[1].querySelector("select").value,
                deadline: tds[2].querySelector("input").value,
                progress: tds[3].querySelector("select").value
            });
        });
        localStorage.setItem("fixeve_todo", JSON.stringify(data));
        alert("ä¿å­˜ã—ã¾ã—ãŸ âœ…");
    }

    // èª­ã¿è¾¼ã¿
    function loadData() {
        const saved = JSON.parse(localStorage.getItem("fixeve_todo") || "[]");
        saved.forEach(item => addRow(item.content, item.priority, item.deadline, item.progress));
        if (saved.length === 0) addRow(); // ç©ºãªã‚‰1è¡Œ
    }

    // å…¨å‰Šé™¤
    function clearData() {
        if (confirm("ã™ã¹ã¦ã®ToDoã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) {
            localStorage.removeItem("fixeve_todo");
            tableBody.innerHTML = "";
            addRow();
        }
    }

    // åˆæœŸèª­ã¿è¾¼ã¿
    loadData();
</script>
</body>
</html>
